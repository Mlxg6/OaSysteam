import{F as A,h as N,J as U,b as W,r as h}from"./_plugin-vue_export-helper-C52UWfAG.js";import{a0 as T,ar as Y,D as z,M as K,E as V,_ as $,i as D,aw as j,ae as J,B as q,ax as Q,a1 as y,y as Z,N as O,h as g,b as P,k as x,F}from"./index-CPZCLJhI.js";import{t as ee}from"./el-input-EJwEnXI7.js";import{g as oe}from"./el-popper-CBzjx_xb.js";var m=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(m||{});const M=e=>{const n=T(e)?e:[e],t=[];return n.forEach(o=>{var u;T(o)?t.push(...M(o)):Y(o)&&T(o.children)?t.push(...M(o.children)):(t.push(o),Y(o)&&((u=o.component)!=null&&u.subTree)&&t.push(...M(o.component.subTree)))}),t},ce=(e,n,t,o)=>{let u={offsetX:0,offsetY:0};const r=i=>{const f=i.clientX,v=i.clientY,{offsetX:E,offsetY:p}=u,d=e.value.getBoundingClientRect(),S=d.left,L=d.top,_=d.width,k=d.height,H=document.documentElement.clientWidth,B=document.documentElement.clientHeight,I=-S+E,R=-L+p,X=H-S-_+E,G=B-L-k+p,b=w=>{let l=E+w.clientX-f,c=p+w.clientY-v;o!=null&&o.value||(l=Math.min(Math.max(l,I),X),c=Math.min(Math.max(c,R),G)),u={offsetX:l,offsetY:c},e.value&&(e.value.style.transform="translate(".concat(A(l),", ").concat(A(c),")"))},C=()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",C)};document.addEventListener("mousemove",b),document.addEventListener("mouseup",C)},s=()=>{n.value&&e.value&&n.value.addEventListener("mousedown",r)},a=()=>{n.value&&e.value&&n.value.removeEventListener("mousedown",r)};z(()=>{K(()=>{t.value?s():a()})}),V(()=>{a()})},me=(e,n={})=>{$(e)||ee("[useLockscreen]","You need to pass a ref param to this function");const t=n.ns||D("popup"),o=j(()=>t.bm("parent","hidden"));if(!J||N(document.body,o.value))return;let u=0,r=!1,s="0";const a=()=>{setTimeout(()=>{h(document==null?void 0:document.body,o.value),r&&document&&(document.body.style.width=s)},200)};q(e,i=>{if(!i){a();return}r=!N(document.body,o.value),r&&(s=document.body.style.width),u=oe(t.namespace.value);const f=document.documentElement.clientHeight<document.body.scrollHeight,v=U(document.body,"overflowY");u>0&&(f||v==="scroll")&&r&&(document.body.style.width="calc(100% - ".concat(u,"px)")),W(document.body,o.value)}),Q(()=>a())},te=e=>{if(!e)return{onClick:y,onMousedown:y,onMouseup:y};let n=!1,t=!1;return{onClick:s=>{n&&t&&e(s),n=t=!1},onMousedown:s=>{n=s.target===s.currentTarget},onMouseup:s=>{t=s.target===s.currentTarget}}},ne=Z({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:O([String,Array,Object])},zIndex:{type:O([String,Number])}}),se={click:e=>e instanceof MouseEvent},ue="overlay";var re=g({name:"ElOverlay",props:ne,emits:se,setup(e,{slots:n,emit:t}){const o=D(ue),u=i=>{t("click",i)},{onClick:r,onMousedown:s,onMouseup:a}=te(e.customMaskEvent?void 0:u);return()=>e.mask?P("div",{class:[o.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:r,onMousedown:s,onMouseup:a},[x(n,"default")],m.STYLE|m.CLASS|m.PROPS,["onClick","onMouseup","onMousedown"]):F("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[x(n,"default")])}});const fe=re;export{fe as E,me as a,te as b,M as f,ce as u};

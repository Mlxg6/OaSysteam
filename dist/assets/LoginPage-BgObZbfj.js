import{r as u,u as x,a as V,c as b,b as e,w as s,o as k,d,e as y,p as h,f as I,g as S}from"./index-CPZCLJhI.js";import{E as U,a as B}from"./el-col-BoU_vRWV.js";import{E as N,a as C}from"./el-form-item-CvQ51XjY.js";import{E as q}from"./el-button-aGybSvRj.js";import{E as F}from"./el-input-EJwEnXI7.js";import{i as L,E as M}from"./request-Bo9Nm4OM.js";import{_ as P,u as R,l as T}from"./_plugin-vue_export-helper-C52UWfAG.js";import"./_initCloneObject-CWwr7yUn.js";const j=({username:a,password:o})=>L.post("user/login",{username:a,password:o}),z=a=>(h("data-v-bf77ce17"),a=a(),I(),a),A={class:"login-page"},D=z(()=>S("h1",{class:"login-title"},"登录",-1)),G={__name:"LoginPage",setup(a){const o=u({username:"",password:""}),i=u({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),p=x(),_=V(),c=u(),f=async()=>{await c.value.validate();const r=await j(o.value);p.setToken(r.data.token),p.setUser(r.data.user),M({message:"登录成功",type:"success"}),_.push("/")};return(r,t)=>{const l=N,m=F,g=q,w=C,E=B,v=U;return k(),b("div",A,[e(v,{class:"login",justify:"center",align:"middle"},{default:s(()=>[e(E,{span:24,class:"form"},{default:s(()=>[e(w,{ref_key:"form",ref:c,size:"large",autocomplete:"off",model:o.value,rules:i.value},{default:s(()=>[e(l,null,{default:s(()=>[D]),_:1}),e(l,{prop:"username"},{default:s(()=>[e(m,{modelValue:o.value.username,"onUpdate:modelValue":t[0]||(t[0]=n=>o.value.username=n),"prefix-icon":d(R),placeholder:"请输入用户名",class:"input"},null,8,["modelValue","prefix-icon"])]),_:1}),e(l,{prop:"password"},{default:s(()=>[e(m,{modelValue:o.value.password,"onUpdate:modelValue":t[1]||(t[1]=n=>o.value.password=n),"prefix-icon":d(T),type:"password",placeholder:"请输入密码",class:"input"},null,8,["modelValue","prefix-icon"])]),_:1}),e(l,null,{default:s(()=>[e(g,{class:"button",type:"primary",onClick:f},{default:s(()=>[y("登录")]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})])}}},Z=P(G,[["__scopeId","data-v-bf77ce17"]]);export{Z as default};
